var model={init:function(){$("body").append('<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?libraries=places&signed_in=true&key=AIzaSyD-ea-0b-EOXWC6svLpOyxcBKs3ecfe1co&callback=model.loadMap">')},loadMap:function(){function e(e,a){if(a==google.maps.places.PlacesServiceStatus.OK)for(var n=0;n<e.length;n++){var s=e[n];model.place.push(s);{e[n].place_id}o(e[n])}}function o(e){var o=(e.geometry.location,new google.maps.Marker({map:l(),position:e.geometry.location}));google.maps.event.addListener(o,"click",function(){i.setContent(e.name),i.open(l(),this)})}var a=ko.observable(40.8621822),n=ko.observable(-73.8935974),s=ko.observable(new google.maps.LatLng(a(),n())),l=ko.observable(new google.maps.Map(document.getElementById("mapCanvas"),{center:s(),zoom:17})),t={location:s(),radius:"500",types:["store"]},i=new google.maps.InfoWindow,p=new google.maps.places.PlacesService(l());p.nearbySearch(t,e)},place:ko.observableArray([])},ViewModel=function(){var e=this;e.map=ko.observable(model.init())};ko.applyBindings(new ViewModel);